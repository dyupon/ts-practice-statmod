\section{AЧХ фильтра скользящего среднего, зависимость от длины окна}

Скользящее среднее --- частный случай линейного фильтра. Оно имеет один параметр $M$ --- ширина окна (порядок скользящего среднего). Для $M = 2k + 1$ определим результат применения фильтра к ряду $\mathsf{X}_N$ следующим образом:
\begin{equation*}
y_n = \frac{1}{M} \sum_{i = -k}^{k}x_{n+i}.
\end{equation*}

Таким образом, если ширина окна является нечетным числом, проблем не возникает. Если длина окна является четным числом, то процедура применения фильтра немного усложняется:
\begin{equation*}
 y_n = \frac{1}{M} \sum_{i = -k}^{k-1}x_{n+i}.
\end{equation*}
Теперь применим фильтр порядка $2$ к полученному ряду:
\begin{equation*}
z_n = \frac{y_{n-1} + y_n}{2}.
\end{equation*}

Перепишем все через значения исходного ряда:
\begin{equation*}
z_n = \frac{x_{n-k} + x_{n+k}}{2M} + \frac{1}{M} \sum_{i = -k}^{k-1}x_{n+i}.
\end{equation*}

Теперь окно стало симметричным. 

Характеристики фильтра:
\begin{itemize}
	\item FIR: $h_i = 1/M, i = 0, \dots, M-1$;
	\item $A_{\Phi}(\omega) = \frac{\sin(M\pi\omega)}{M\sin(\pi \omega)}$
\end{itemize}

Таким образом, скользящее среднее подавляет частоты периодик, которые имеют период, делящий длину окна нацело. Вообще, чем больше окно, тем сильнее скользящее среднее подавляет высокие частоты.

АЧХ скользящего среднего с длиной окна $M=12$ для ряда, имеющего сезонность с периодом 12:

\begin{figure}[H]
	\center{\includegraphics[width=280pt, height=190pt]{maach.png}}
	\caption{АЧХ, $M = 12, T = 12$}
\end{figure}

